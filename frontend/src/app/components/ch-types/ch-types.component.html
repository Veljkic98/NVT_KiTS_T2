<div class='main'>
<h1>Cultural Heritage Types</h1>

    
  <table mat-table  [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8" >
	<ng-container matColumnDef="{{column}}" *ngFor="let column of columnsToDisplay">
		<th mat-header-cell *matHeaderCellDef> {{column}} </th>
        <td mat-cell *matCellDef="let element"> 
             <div *ngIf="column === 'Name'">  {{element.name.charAt(0).toUpperCase() + element.name.slice(1)}}  </div>  
             <div *ngIf="column === 'View Subtypes'">            
                  <button  mat-stroked-button color="primary"  (click)="toggleRow(element)">SHOW</button>
             </div>  
             <div *ngIf="column === 'Edit'">
                <button  mat-stroked-button color="accent" >EDIT</button>
            </div>  
             <div *ngIf="column === 'Delete'">
                <button  mat-stroked-button color="warn" >DELETE</button>
             </div>  

            
        </td>
        
	</ng-container>

	<ng-container matColumnDef="expandedDetail">
		<td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
			<div class="example-element-detail" *ngIf="element.subtypes?.length" [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
				<div class="inner-table mat-elevation-z8" *ngIf="expandedElement">

          <table #innerTables mat-table [dataSource]="element.subtypes" id="inner-table" >
            <ng-container matColumnDef="{{innerColumn}}" *ngFor="let innerColumn of innerDisplayedColumns">
              <th mat-header-cell *matHeaderCellDef> {{innerColumn}} </th>
              <td mat-cell *matCellDef="let element"> 
                <div *ngIf="innerColumn === 'Name'">  {{element.name.charAt(0).toUpperCase() + element.name.slice(1)}}  </div>  
                
                <div *ngIf="innerColumn === 'Edit'">
                   <button  mat-stroked-button color="accent" >EDIT</button>
               </div>  
                <div *ngIf="innerColumn === 'Delete'">
                   <button  mat-stroked-button color="warn" >DELETE</button>
                </div>  


              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="innerDisplayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: innerDisplayedColumns;"></tr>
          </table>
				</div>
			</div>
		</td>
    </ng-container>
    
    

	<tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
	<tr mat-row *matRowDef="let element; columns: columnsToDisplay;" [class.example-element-row]="element.subtypes?.length"
	 [class.example-expanded-row]="expandedElement === element" >
	</tr>
	<tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
</table>

</div>